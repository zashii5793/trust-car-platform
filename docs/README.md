# クルマ統合管理 & AIレコメンドアプリ

**「信頼」を設計する、新時代のカーライフ・プラットフォーム**

## 📖 プロジェクト概要

クルマの所有と管理における「精神的負担」を解消し、ユーザーが安心してカーライフを楽しめるプラットフォームを提供します。AIが最適な選択肢を提示し、ユーザーが主体的に判断できる仕組みを構築します。

### ビジョン
クルマのことを、もう考えなくてもいい世界へ

### コアバリュー
- **ユーザーファースト**: AIも事業者も「選択肢を整える」存在
- **信頼の構築**: 透明性のある情報提供と公平なレコメンド
- **コミュニティ**: ユーザー同士が交流し、経験を共有できる場

---

## 🎯 ターゲットユーザー

### メインターゲット
- **Demographics**: 30〜50代、ファミリー層、共働き世帯
- **Psychographics**: 
  - クルマは生活必需品であり、家族のための重要な資産
  - 仕事や育児に多忙で、情報収集や管理に時間をかけられない
  - 信頼性と効率性を重視する

### サブターゲット
- **クルマ好き層**: 愛車へのこだわりは強いが、日々の整備・管理の煩雑さに課題
- **若年層**: これから初めて車を購入するにあたり、信頼できる情報源を求めている
- **法人**: 社用車の一元管理と効率的な運用を求める企業

---

## 🚀 主要機能

### Phase 1: MVP（3-4ヶ月）
**目的**: コアとなる履歴データ基盤を構築し、ユーザーからのフィードバックを得る

#### 実装済み機能
- ✅ 車両登録（メーカー、車種、年式、グレード、走行距離）
- ✅ 車両画像アップロード
- ✅ メンテナンス履歴管理（修理、点検、消耗品交換、車検）
- ✅ 履歴一覧表示とフィルタリング
- ✅ Firebase連携（認証、データベース、ストレージ）

#### 今後の実装
- ⏳ ルールベースAI提案（点検時期通知、消耗品交換推奨）
- ⏳ ユーザー認証機能（メール/パスワード、Google/Apple認証）
- ⏳ プッシュ通知機能

### Phase 2: エンゲージメント拡大（+6ヶ月）
**目的**: AIの価値を高め、ユーザーの利用頻度と定着率を向上させる

#### 計画中の機能
- 🔄 カスタム提案機能の強化
  - ユーザーの車の状態、好み、ライフスタイルをAIが理解
  - 最適なカスタムパーツや次の車を「理由と共に」提案

- 🔄 車両購入レコメンド機能
  - ユーザー入力: テーマ（ファミリーカー）、家族構成、使用シーン、予算感
  - AI出力: 条件に合う複数の候補を新車・中古車問わず提示、メリットデメリット、注意点を明示

- 🔄 地図連動バーチャルドライブ機能
  - 地図上で仮想的にドライブ体験
  - ルートの記録と共有
  - ドライブスポット推薦

- 🔄 ユーザーSNS機能
  - 愛車の写真投稿と共有
  - ドライブ記録の投稿
  - ユーザー同士のコメント・いいね機能
  - カスタム履歴の共有

### Phase 3: エコシステム完成と収益化（+6ヶ月）
**目的**: B2Bモデルを確立し、事業をスケールさせる

#### 計画中の機能
- 🔄 整備工場・販売店連携機能
  - [1] AI提案を閲覧したユーザーが「興味あり」ボタンをタップ
  - [2] ユーザーの意思表示
  - [3] 選択肢の提示（提携整備工場や販売店の候補が表示）
  - [4] ユーザー起点のアクション（ユーザーが自らの意思で「問い合わせる」ボタンをタップ）
  - **重要**: ユーザーの許可なく、事業者から連絡が来ることは一切ありません

- 🔄 法人向け車両管理機能
  - 複数車両の一元管理
  - 社員ごとのアクセス権限管理
  - 車両稼働状況の可視化
  - メンテナンススケジュールの自動管理
  - コスト分析とレポート機能

- 🔄 事業者向け管理画面
  - 問い合わせ管理
  - ユーザー評価の確認
  - プロモーション機能

- 🔄 プレミアム会員機能（B2C収益化）
  - 高度なAI提案機能（パーソナライズ精度向上）
  - 登録できる車両履歴や証跡データの無制限化
  - 優先サポート

---

## 💼 ビジネスモデル

### B2C（個人ユーザー向け）
**モデル**: プレミアム会員制度（月額課金）

**Value（価値提供）**:
- 高度なAI提案機能（パーソナライズ精度の向上）
- 登録できる車両履歴や証跡データの無制限化

**Note**: 基本的な履歴管理機能は無料で提供し、まずは価値を実感してもらう

### B2B（事業者向け）
**モデル1**: 成果報酬型
- **送客手数料**: ユーザーからの問い合わせや来店・成約が発生した際に、提携整備工場・販売店から手数料を受領

**モデル2**: アフィリエイト
- AIがレコメンドしたカスタムパーツが、提携ECサイト経由で購入された際に手数料を受領

### B2B2（法人向け）
**モデル**: 月額サブスクリプション + 従量課金
- 基本料金: 車両管理機能の基本利用料（月額/年額）
- 従量課金: 管理車両数に応じた追加料金

---

## 📊 重要業績評価指標（KPI）

### ユーザーエンゲージメント
- **MAU (Monthly Active Users)**: サービスの利用頻度
- **継続率 (Retention Rate)**: 3ヶ月後、6ヶ月後の定着率

### 機能価値
- **レコメンド閲覧率 (Recommendation View Rate)**: AIレコメンドがユーザーに届いているか
- **履歴データ登録数 (History Data Entry Rate)**: コア機能の利用度

### 事業成果
- **プレミアム会員転換率 (Premium Conversion Rate)**: B2C収益化の健全性
- **問い合わせ・購入転換率 (Inquiry/Purchase CVR)**: B2Bモデルの有効性
- **法人契約数 (Corporate Contracts)**: B2B2収益の基盤

---

## 🛠 技術スタック

### フロントエンド
- **Flutter 3.38+**: iOS/Android/Web対応のクロスプラットフォーム開発
- **Material Design 3**: モダンなUI/UX
- **Provider**: 状態管理

### バックエンド
- **Firebase**:
  - Authentication: ユーザー認証
  - Cloud Firestore: NoSQLデータベース
  - Cloud Storage: 画像・ファイルストレージ
  - Cloud Functions: サーバーレス処理
  - Cloud Messaging: プッシュ通知

### AI/機械学習
- **フェーズ1**: ルールベースシステム
- **フェーズ2-3**: LLM（Large Language Model）統合
  - 車両データとユーザー行動の分析
  - パーソナライズされたレコメンド生成

### 地図・位置情報
- **Google Maps Platform**: 地図表示、ルート検索
- **Geolocation API**: 現在地取得

### 外部連携
- **カスタムパーツECサイトAPI**: アフィリエイト連携
- **中古車情報API**: 車両購入レコメンド
- **整備工場・販売店API**: 事業者連携

---

## 📁 プロジェクト構造

```
trust_car_platform/
├── lib/
│   ├── main.dart                    # アプリエントリーポイント
│   ├── models/                      # データモデル
│   │   ├── vehicle.dart            # 車両モデル
│   │   ├── maintenance_record.dart # メンテナンス履歴モデル
│   │   ├── user.dart               # ユーザーモデル（Phase 1）
│   │   ├── drive_record.dart       # ドライブ記録モデル（Phase 2）
│   │   └── corporate_account.dart  # 法人アカウントモデル（Phase 3）
│   ├── screens/                     # UI画面
│   │   ├── auth/                   # 認証関連画面
│   │   ├── home/                   # ホーム画面
│   │   ├── vehicle/                # 車両関連画面
│   │   ├── maintenance/            # メンテナンス関連画面
│   │   ├── social/                 # SNS機能画面（Phase 2）
│   │   ├── drive/                  # ドライブ機能画面（Phase 2）
│   │   └── corporate/              # 法人機能画面（Phase 3）
│   ├── widgets/                     # 再利用可能なウィジェット
│   ├── providers/                   # 状態管理
│   ├── services/                    # ビジネスロジック
│   │   ├── firebase_service.dart   # Firebase操作
│   │   ├── ai_service.dart         # AIレコメンド
│   │   ├── map_service.dart        # 地図・位置情報（Phase 2）
│   │   └── notification_service.dart # プッシュ通知
│   └── utils/                       # ヘルパー関数
├── docs/
│   ├── README.md                    # このファイル
│   ├── ROADMAP.md                   # 開発ロードマップ
│   ├── DESIGN_SYSTEM.md             # デザインガイドライン
│   └── ARCHITECTURE.md              # 技術アーキテクチャ
└── firebase/
    ├── firestore.rules              # Firestoreセキュリティルール
    ├── storage.rules                # Storageセキュリティルール
    └── functions/                   # Cloud Functions
```

---

## 🎨 デザイン原則

1. **シンプルで直感的**: 最小限の操作で目的を達成できる
2. **情報の透明性**: ユーザーが判断に必要な情報を明確に提示
3. **信頼感のあるビジュアル**: 落ち着いた色使いと丁寧なアニメーション
4. **アクセシビリティ**: 全てのユーザーが快適に使える配慮

詳細は [DESIGN_SYSTEM.md](DESIGN_SYSTEM.md) を参照

---

## 📈 開発ロードマップ

詳細は [ROADMAP.md](ROADMAP.md) を参照

- **Phase 1 (MVP)**: 2026年1月〜4月 - 基盤構築とユーザーフィードバック収集
- **Phase 2**: 2026年5月〜10月 - エンゲージメント拡大とコミュニティ形成
- **Phase 3**: 2026年11月〜2027年4月 - エコシステム完成と収益化

---

## 🔧 開発ガイドライン

### 開発フロー

Claude Codeを使用した開発は以下のフローで進める：

```
1. 探索（Plan Mode）
   ↓
2. 計画
   ↓
3. 実装（Normal Mode）
   ↓
4. コミット＆Push
   ↓
（次の機能へ）
```

**1. 探索（Plan Mode）**
- 実装前にコードベースを調査
- 既存のパターンやアーキテクチャを理解
- 影響範囲を特定

**2. 計画**
- 実装方針を決定
- 変更するファイルを特定
- タスクをTodoリストで管理

**3. 実装（Normal Mode）**
- 計画に沿ってコードを編集
- 品質チェック実施（analyze, test, build）
- 動作確認

**4. コミット＆Push**
- 機能単位でコミット
- 即座にpushしてロールバック可能な状態を維持

---

### コンテキスト管理

Claude Codeのコンテキストを効率的に管理する：

**`/clear` - タスク切り替え時**
- 新しいタスクを開始する際に使用
- コンテキストを完全にリセット
- 前のタスクの情報が不要な場合に最適

**`/compact <指示>` - 同じタスク継続時**
- 同じタスクを継続しつつコンテキストを軽くしたい時
- 重要な情報を保持しつつ圧縮
- 例：`/compact APIの変更に集中して`

**コンテキストを蓄積させるべき場面**
- 複雑な問題に深く入り込んでいる場合
- 履歴が価値を持つ場合
- 関連する複数の変更を連続して行う場合

**判断基準**
| 状況 | 推奨コマンド |
|------|-------------|
| 新しい機能の実装開始 | `/clear` |
| 同じ機能のバグ修正継続 | そのまま継続 |
| コンテキストが重くなった | `/compact` |
| 全く別のタスクに移行 | `/clear` |

---

### Git運用ルール

**コミット頻度**
- コード編集後は都度コミット＆pushを行う
- ロールバックを容易にするため、小さな単位でコミットする
- 1つの機能追加・修正ごとに1コミットを目安とする

**コミットメッセージ規約**
```
<type>: <subject>

<body>

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>
```

**typeの種類**:
- `feat`: 新機能追加
- `fix`: バグ修正
- `refactor`: リファクタリング
- `style`: コードスタイルの変更（フォーマット等）
- `docs`: ドキュメントの変更
- `test`: テストの追加・修正
- `chore`: ビルド設定やツールの変更

**コミット前のチェックリスト**
1. `flutter analyze` でエラーがないことを確認
2. `flutter test` で全テストが通ることを確認
3. `flutter build web` でビルドが成功することを確認

**ブランチ戦略**
- `main`: 本番環境用ブランチ（常にデプロイ可能な状態を維持）
- 大きな機能開発時はfeatureブランチを作成

### 品質管理

**コード品質**
- 静的解析（`flutter analyze`）でwarning/errorゼロを維持
- 新機能追加時はテストを追加

**ビルド確認**
- コード変更後は必ずWebビルドを確認
- `flutter build web` が成功することを確認してからpush

---

## 🤝 コントリビューション

このプロジェクトは現在プライベート開発中です。

---

## 📄 ライセンス

All Rights Reserved - 2026

---

## 📞 お問い合わせ

プロジェクトに関するお問い合わせは [連絡先] まで
